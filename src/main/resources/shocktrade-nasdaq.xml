<?xml version="1.0" ?>
<narrative-config>

    <narrative id="CombiningNarrative" class="com.shocktrade.narratives.CombiningNarrative" />

    <narrative id="EodDataImportNarrative" class="com.shocktrade.narratives.EodDataImportNarrative" />

    <narrative id="KeyStatsImportNarrative" class="com.shocktrade.narratives.YFKeyStatsImportNarrative" />

    <narrative id="QuoteImportNarrative" class="com.shocktrade.narratives.YFStockQuoteImportNarrative" />

    <narrative id="OTCBBDailyUpdateNarrative" class="com.shocktrade.narratives.OTCBBDailyUpdateNarrative" />

    <schedule id="TradingSchedule" class="com.shocktrade.schedules.TradingSchedule" />

    <trigger schedule-ref="TradingSchedule" narrative-ref="QuoteImportNarrative" />

    <location id="Combiner" path="/Users/ldaniels/broadway/incoming/combine">
        <feed name="AMEX_(.*)[.]txt" match="regex" narrative-ref="CombiningNarrative" />
        <feed name="NASDAQ_(.*)[.]txt" match="regex" narrative-ref="CombiningNarrative" />
        <feed name="NYSE_(.*)[.]txt" match="regex" narrative-ref="CombiningNarrative" />
        <feed name="OTCBB_(.*)[.]txt" match="regex" narrative-ref="CombiningNarrative" />
    </location>

    <location id="CSVQuotes" path="/Users/ldaniels/broadway/incoming/csvQuotes">
        <feed match="exact" name="AMEX.txt" narrative-ref="QuoteImportNarrative" />
        <feed match="exact" name="NASDAQ.txt" narrative-ref="QuoteImportNarrative" />
        <feed match="exact" name="NYSE.txt" narrative-ref="QuoteImportNarrative" />
        <feed match="exact" name="OTCBB.txt" narrative-ref="QuoteImportNarrative" />
    </location>

    <location id="EodData" path="/Users/ldaniels/broadway/incoming/tradingHistory">
        <feed name="AMEX_(.*)[.]txt" match="regex" narrative-ref="EodDataImportNarrative" />
        <feed name="NASDAQ_(.*)[.]txt" match="regex" narrative-ref="EodDataImportNarrative" />
        <feed name="NYSE_(.*)[.]txt" match="regex" narrative-ref="EodDataImportNarrative" />
        <feed name="OTCBB_(.*)[.]txt" match="regex" narrative-ref="EodDataImportNarrative" />
    </location>

    <location id="KeyStats" path="/Users/ldaniels/broadway/incoming/keyStats">
        <feed match="exact" name="AMEX.txt" narrative-ref="KeyStatsImportNarrative" />
        <feed match="exact" name="NASDAQ.txt" narrative-ref="KeyStatsImportNarrative" />
        <feed match="exact" name="NYSE.txt" narrative-ref="KeyStatsImportNarrative" />
        <feed match="exact" name="OTCBB.txt" narrative-ref="KeyStatsImportNarrative" />
    </location>

    <!--
    http://otce.finra.org/MSHistoricalDataMonthly/DownloadFileStream?fileLocation=D:\OTCE\DownloadFiles\HistoricalData\BB01202015.txt
    http://otce.finra.org/RegSHO/DownloadFileStream?fileLocation=D:\OTCE\DownloadFiles\SHO\otc-thresh20150121_201501212258.txt
    -->
    <location id="OTCTranHistory" path="http://otce.finra.org/MSHistoricalDataMonthly/DownloadFileStream?fileLocation=D:\\OTCE\DownloadFiles\\HistoricalData\\">
        <!-- BB{{ date:MMddyyyy }}.txt => BB01202015.txt-->
        <feed match="exact" name="OtherOTC_122014.txt" narrative-ref="OTCBBDailyUpdateNarrative" />
    </location>

</narrative-config>