<?xml version="1.0" ?>
<anthology id="Yahoo Data" version="1.0">
    <!-- Schedules -->

    <schedule id="ContinuousSchedule" class="com.shocktrade.datacenter.schedules.ContinuousSchedule"/>
    <schedule id="NonRunningSchedule" class="com.ldaniels528.broadway.core.schedules.NonRunningSchedule"/>
    <schedule id="ScheduleOnce" class="com.ldaniels528.broadway.core.schedules.ScheduleOnce"/>
    <schedule id="TradingSchedule" class="com.shocktrade.datacenter.schedules.USStockMarketSchedule"/>

    <!-- Narratives -->

    <narrative id="CsvQuotesYahooToKafkaNarrative"
               class="com.shocktrade.datacenter.narratives.yahoo.CsvQuotesYahooToKafkaNarrative">
        <properties>
            <property key="kafka.topic">yahoo.quotes.csv</property>
            <property key="mongo.database">shocktrade</property>
            <property key="mongo.replicas">dev601:27017</property>
            <property key="mongo.collection">Stocks</property>
            <property key="zookeeper.connect">dev801:2181</property>
        </properties>
    </narrative>

    <narrative id="CsvQuotesKafkaToMongoDBNarrative"
               class="com.shocktrade.datacenter.narratives.yahoo.CsvQuotesKafkaToMongoDBNarrative">
        <properties>
            <property key="kafka.topic">yahoo.quotes.csv</property>
            <property key="mongo.database">shocktrade</property>
            <property key="mongo.replicas">dev601:27017</property>
            <property key="mongo.collection">Stocks3</property>
            <property key="zookeeper.connect">dev801:2181</property>
        </properties>
    </narrative>

    <narrative id="KeyStatsImportNarrative"
               class="com.shocktrade.datacenter.narratives.yahoo.YFKeyStatsImportNarrative">
        <properties>
            <property key="kafka.topic">yahoo.keystats.avro</property>
            <property key="zookeeper.connect">dev801:2181</property>
        </properties>
    </narrative>
    
    <!-- Triggers -->

    <trigger
            schedule-ref="TradingSchedule"
            narrative-ref="CsvQuotesYahooToKafkaNarrative"/>

    <trigger
            schedule-ref="NonRunningSchedule"
            narrative-ref="CsvQuotesKafkaToMongoDBNarrative"/>

</anthology>