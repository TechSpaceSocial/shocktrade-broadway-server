<?xml version="1.0" ?>
<narrative-config version="1.0">
    <!-- Narratives -->

    <narrative id="CsvQuotesToKafkaNarrative" class="com.shocktrade.datacenter.narratives.yahoo.CsvQuotesYahooToKafkaNarrative"/>
    <narrative id="CsvQuotesKafkaToMongoDBNarrative" class="com.shocktrade.datacenter.narratives.yahoo.CsvQuotesKafkaToMongoDBNarrative"/>
    <narrative id="KeyStatsImportNarrative" class="com.shocktrade.datacenter.narratives.yahoo.YFKeyStatsImportNarrative"/>

    <!-- Schedules -->

    <schedule id="ContinuousSchedule" class="com.shocktrade.datacenter.schedules.ContinuousSchedule"/>
    <schedule id="NonRunningSchedule" class="com.ldaniels528.broadway.core.schedules.NonRunningSchedule"/>
    <schedule id="ScheduleOnce" class="com.ldaniels528.broadway.core.schedules.ScheduleOnce"/>
    <schedule id="TradingSchedule" class="com.shocktrade.datacenter.schedules.USStockMarketSchedule"/>

    <!-- Schedule Triggers -->

    <trigger
            schedule-ref="TradingSchedule"
            narrative-ref="CsvQuotesToKafkaNarrative" />

    <trigger
            schedule-ref="ContinuousSchedule"
            narrative-ref="CsvQuotesKafkaToMongoDBNarrative" />

    <!-- Location Triggers -->

    <location id="KeyStats" path="/Users/ldaniels/broadway/incoming/keyStats">
        <feed match="exact" name="AMEX.txt" narrative-ref="KeyStatsImportNarrative"/>
        <feed match="exact" name="NASDAQ.txt" narrative-ref="KeyStatsImportNarrative"/>
        <feed match="exact" name="NYSE.txt" narrative-ref="KeyStatsImportNarrative"/>
        <feed match="exact" name="OTCBB.txt" narrative-ref="KeyStatsImportNarrative"/>
    </location>

</narrative-config>